# BoatRoutes v4.0 Configuration
# ИСПРАВЛЕННАЯ ВЕРСИЯ - динамическое кеширование

# ===== PATHFINDING SETTINGS =====
pathfinding:
  # Maximum distance for pathfinding (blocks)
  max-distance: 5000
  
  # Safety radius from shore (0 = disabled)
  # Higher value = boats stay further from land
  safety-radius: 0
  
  # Minimum water depth required
  min-depth: 1
  
  # Maximum BFS iterations (защита от зависания)
  max-iterations: 50000
  
  # BFS step size in blocks (2 = faster, 1 = more precise)
  step-size: 2
  
  # Sea level (Y coordinate) - ВСЕ ПУТИ НА ЭТОЙ ВЫСОТЕ!
  sea-level: 62
  
  # Run pathfinding asynchronously (recommended: true)
  async: true
  
  # ВАЖНО: Этот параметр ИГНОРИРУЕТСЯ в v4.0!
  # Вместо этого используется ДИНАМИЧЕСКИЙ радиус:
  # radius = min(max(distance * 1.5, 100), 500)
  pre-cache-radius: 500

# ===== WORLD CACHING =====
cache:
  # Enable water block caching
  enabled: true
  
  # Auto-save cache after path calculation
  auto-save: true
  
  # Auto-save interval in seconds
  save-interval: 300

# ===== NAVIGABLE WATER FINDER =====
navigable-water:
  # Maximum search radius for open water
  search-radius: 50
  
  # Minimum water percentage in 10x10 area (0-100)
  min-water-area: 70
  
  # Minimum clear directions out of 8
  min-clear-directions: 6
  
  # Distance to check in each direction
  direction-distance: 20

# ===== PORT SETTINGS =====
port:
  # Number of docks per port
  docks-per-port: 3

# ===== BOAT SETTINGS =====
boat:
  # Default boat speed (blocks per tick)
  default-speed: 0.35
  
  # Maximum velocity cap
  max-velocity: 4.0

  smoothness: 0.1

  waypoint-radius: 3.0
# ===== GUI SETTINGS =====
gui:
  # Ticks between GUI updates
  update-interval: 20

# ===== DEBUG MODE =====
# Enable for detailed console output
debug: false


# ============================================
# ПРИМЕЧАНИЯ К ВЕРСИИ 4.0:
# ============================================
#
# ИСПРАВЛЕНО:
# 1. Радиус кеширования теперь ДИНАМИЧЕСКИЙ!
#    - Зависит от расстояния между портами
#    - Формула: min(max(distance * 1.5, 100), 500)
#    - Было: 3000 блоков = 141,376 чанков (зависание!)
#    - Стало: ~100-500 блоков = 1,000-10,000 чанков (мгновенно)
#
# 2. Bidirectional BFS вместо обычного
#    - Работает в 2-4 раза быстрее
#    - Ищет путь с двух сторон одновременно
#
# 3. Фиксированный Y уровень (sea-level)
#    - Все waypoints на высоте 62
#    - Нет прыжков по высоте
#    - Путь всегда на поверхности воды
#
# 4. Умное кеширование
#    - Кешируется только область между портами
#    - Поддержка непрогруженных чанков
#    - Персистентный кеш в water_cache.yml
#
# ============================================
